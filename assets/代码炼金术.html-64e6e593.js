import{_ as p}from"./plugin-vue_export-helper-c27b6911.js";import{r as s,o as u,c as d,a as t,w as e,d as a,e as n,b as o}from"./app-c8c1e0b3.js";const g="/assets/1767750801656-163bf917.png",m="/assets/1767750839498-d68ba3d5.png",k="/assets/1767750878948-f61e5609.png",v="/assets/1767750928580-88dc469d.png",_={},h=o('<h1 id="代码炼金术" tabindex="-1"><a class="header-anchor" href="#代码炼金术" aria-hidden="true">#</a> 代码炼金术</h1><h2 id="配置阿里云镜像jdk证书" tabindex="-1"><a class="header-anchor" href="#配置阿里云镜像jdk证书" aria-hidden="true">#</a> 配置阿里云镜像JDK证书</h2><h3 id="问题描述" tabindex="-1"><a class="header-anchor" href="#问题描述" aria-hidden="true">#</a> 问题描述</h3><p>Maven项目下载依赖常需要配置阿里云镜像加速下载。</p>',4),b=a("div",{class:"language-xml line-numbers-mode","data-ext":"xml"},[a("pre",{class:"language-xml"},[a("code",null,[n("    "),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"<"),n("mirrors")]),a("span",{class:"token punctuation"},">")]),n(`
        `),a("span",{class:"token comment"},"<!--此配置可实现非内网环境下，使用公网阿里云仓库-->"),n(`
        `),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"<"),n("mirror")]),a("span",{class:"token punctuation"},">")]),n(`
            `),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"<"),n("id")]),a("span",{class:"token punctuation"},">")]),n("aliyunmaven"),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"</"),n("id")]),a("span",{class:"token punctuation"},">")]),n(`
            `),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"<"),n("mirrorOf")]),a("span",{class:"token punctuation"},">")]),n("*"),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"</"),n("mirrorOf")]),a("span",{class:"token punctuation"},">")]),n(`
            `),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"<"),n("name")]),a("span",{class:"token punctuation"},">")]),n("阿里云公共仓库"),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"</"),n("name")]),a("span",{class:"token punctuation"},">")]),n(`
            `),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"<"),n("url")]),a("span",{class:"token punctuation"},">")]),n("https://maven.aliyun.com/repository/public"),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"</"),n("url")]),a("span",{class:"token punctuation"},">")]),n(`
        `),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"</"),n("mirror")]),a("span",{class:"token punctuation"},">")]),n(`
    `),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"</"),n("mirrors")]),a("span",{class:"token punctuation"},">")]),n(`
`)])]),a("div",{class:"line-numbers","aria-hidden":"true"},[a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"}),a("div",{class:"line-number"})])],-1),f=a("p",null,[n("Maven访问阿里云仓库使用的是 "),a("strong",null,"HTTPS"),n(" 协议。相比 HTTP多了一个"),a("strong",null,"S(Secure)"),n("，其核心就是 SSL/TLS 加密通信。当Maven请求下载Jar包时，阿里云服务器会先发回一张电子身份证(即 "),a("strong",null,"SSL 证书"),n(")。我们的JDK/Maven收到证书后，它不会盲目相信。它会去自己的信任名单(也就是在"),a("strong",null,"JDK安装路径下的cacerts文件夹"),n("中)里比对，看这张身份证是不是由权威机构颁发的。而我们的cacerts文件夹中没有此证书因此下载失败。一般和JDK版本有关，高版本JDK中的cacerts文件夹可能已经自带。如此解决方案就是从官网中下载证书并把证书放入到我们JDK安装路径中的cacerts文件夹中。")],-1),x=a("h3",{id:"解决方案",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#解决方案","aria-hidden":"true"},"#"),n(" 解决方案")],-1),y={href:"https://maven.aliyun.com/",target:"_blank",rel:"noopener noreferrer"},D=a("li",null,[a("p",null,"打开后在浏览器网址左侧有一个图标，点击此图标")],-1),J=o('<figure><img src="'+g+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ol start="3"><li>选择 --&gt; 连接是安全的</li></ol><figure><img src="'+m+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ol start="4"><li>选择 --&gt; 证书有效</li></ol><figure><img src="'+k+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ol start="5"><li>选择 --&gt; 详细信息 导出</li></ol><figure><img src="'+v+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ol start="6"><li><p>将下载好的文件放入指定文件夹如D:\\TenSoFlow\\Code\\Java\\JDKCer</p></li><li><p>以管理员身份运行CMD</p></li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># &quot;D:\\TenSoFlow\\Code\\Java\\JDK1.8.0_201\\jre\\lib\\security\\cacerts&quot; 是你JDK路径中的证书路径</span>
<span class="token comment"># &quot;D:\\TenSoFlow\\Code\\Java\\JDKCer\\aliyun.crt&quot; 是你放置证书的路径</span>

keytool <span class="token parameter variable">-import</span> <span class="token parameter variable">-alias</span> aliyun_maven <span class="token parameter variable">-keystore</span> <span class="token string">&quot;D:\\TenSoFlow\\Code\\Java\\JDK1.8.0_201\\jre\\lib\\security<span class="token entity" title="\\c">\\c</span>acerts&quot;</span> <span class="token parameter variable">-file</span> <span class="token string">&quot;D:\\TenSoFlow\\Code\\Java\\JDKCer<span class="token entity" title="\\a">\\a</span>liyun.crt&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="8"><li>输入命令后根据提示进行交互</li></ol><p>输入口令：输入changeit (注意：输入时屏幕不会显示任何字符，输完直接按回车)</p><p>确认信任：屏幕会显示证书信息，最后一行问你 是否信任此证书，此时输入 y 然后按回车。</p><p>看到成功提示 --&gt; 证书已添加到密钥库中，则说明操作成功</p>`,13);function S(C,T){const l=s("CodeTabs"),i=s("ExternalLinkIcon");return u(),d("div",null,[h,t(l,{id:"12",data:[{id:"settings.xml"}]},{title0:e(({value:c,isActive:r})=>[n("settings.xml")]),tab0:e(({value:c,isActive:r})=>[b]),_:1},8,["data"]),f,x,a("ol",null,[a("li",null,[a("p",null,[n("打开阿里云Maven网址 "),a("a",y,[n("https://maven.aliyun.com/"),t(i)])])]),D]),J])}const w=p(_,[["render",S],["__file","代码炼金术.html.vue"]]);export{w as default};
